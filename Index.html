<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple To‑Do App</title>
  <style>
    :root {
      --bg: #0f172a;        /* slate-900 */
      --panel: #111827;     /* gray-900 */
      --muted: #94a3b8;     /* slate-400 */
      --text: #e5e7eb;      /* gray-200 */
      --accent: #22d3ee;    /* cyan-400 */
      --accent-2: #a78bfa;  /* violet-400 */
      --danger: #f87171;    /* red-400 */
      --success: #34d399;   /* green-400 */
      --shadow: 0 10px 25px rgba(0,0,0,.3);
      --radius: 16px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 20% -10%, rgba(167,139,250,.25), transparent 50%),
                  radial-gradient(1000px 800px at 120% 10%, rgba(34,211,238,.15), transparent 50%),
                  var(--bg);
      color: var(--text);
      display: grid;
      place-items: start center;
      padding: 40px 16px 64px;
    }

    .app {
      width: 100%;
      max-width: 680px;
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01));
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .header {
      padding: 20px 20px 8px;
      display: flex;
      align-items: center;
      gap: 12px;
      background: linear-gradient(180deg, rgba(167,139,250,.12), rgba(167,139,250,0));
    }
    
    h1 { font-size: 1.4rem; margin: 0; letter-spacing: .4px; }
    .muted { color: var(--muted); font-size: .9rem; }

    .new-task {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
      padding: 16px 20px 20px;
    }
    .input {
      background: var(--panel);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 12px;
      padding: 14px 14px;
      color: var(--text);
      outline: none;
      transition: border-color .2s, box-shadow .2s;
    }
    .input:focus { border-color: var(--accent); box-shadow: 0 0 0 4px rgba(34,211,238,.15); }
    .btn {
      border: none;
      border-radius: 12px;
      padding: 12px 16px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #0b1020;
      font-weight: 700;
      cursor: pointer;
      transition: transform .05s ease, filter .2s ease;
    }
    .btn:active { transform: translateY(1px); }
    .btn:disabled { filter: grayscale(1) brightness(.7); cursor: not-allowed; }

    .toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      padding: 10px 20px;
      border-top: 1px solid rgba(255,255,255,.06);
      border-bottom: 1px solid rgba(255,255,255,.06);
      background: rgba(255,255,255,.02);
    }
    .filters { display: flex; gap: 6px; flex-wrap: wrap; }
    .chip {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.08);
      background: var(--panel);
      color: var(--muted);
      cursor: pointer;
      font-size: .85rem;
    }
    .chip[data-active="true"] { color: var(--text); border-color: var(--accent); }
    .linky { color: var(--muted); font-size: .9rem; cursor: pointer; }
    .linky:hover { color: var(--text); }

    .list { list-style: none; margin: 0; padding: 0; }
    .task {
      display: grid;
      grid-template-columns: 28px 1fr auto;
      gap: 12px;
      align-items: center;
      padding: 14px 20px;
      border-bottom: 1px dashed rgba(255,255,255,.06);
      transition: background .2s;
    }
    .task:hover { background: rgba(255,255,255,.02); }

    .checkbox {
      appearance: none;
      width: 20px; height: 20px;
      border: 2px solid var(--accent);
      border-radius: 6px;
      display: grid; place-items: center;
      cursor: pointer; outline: none;
      background: transparent;
    }
    .checkbox:checked { background: var(--accent); border-color: var(--accent); }
    .checkbox:checked::after { content: "✓"; font-weight: 900; color: #0b1020; font-size: 14px; }

    .title { line-height: 1.35; }
    .title[contenteditable="true"] { outline: none; border-radius: 6px; box-shadow: inset 0 0 0 1px rgba(255,255,255,.12); padding: 2px 6px; }
    .title.completed { color: var(--muted); text-decoration: line-through; }

    .row-actions { display: flex; gap: 8px; }
    .icon-btn {
      background: var(--panel);
      border: 1px solid rgba(255,255,255,.08);
      padding: 8px 10px;
      border-radius: 10px;
      cursor: pointer;
      color: var(--muted);
      font-size: .85rem;
    }
    .clear-btn {
  color: var(--danger);       /* red color (defined in :root) */
  font-weight: 600;
}
.clear-btn:hover {
  color: #f43f5e;             /* thoda bright red hover */
  text-decoration: underline; /* hover pe underline */
}


    .empty {
      text-align: center;
      padding: 28px 20px 36px;
      color: var(--muted);
      font-size: .95rem;
    }

    .footer { padding: 14px 20px 20px; color: var(--muted); font-size: .9rem; display:flex; justify-content:space-between; align-items:center; }
    .counter strong { color: var(--text); }

    @media (max-width: 520px) {
      .task { grid-template-columns: 24px 1fr auto; padding: 12px 14px; }
      .new-task { grid-template-columns: 1fr; }
    }

   

  </style>
</head>
<body>
  <main class="app" role="application" aria-label="To‑Do App">
    <header class="header">
      
      <div>
        <h1>To‑Do</h1>
        <div class="muted">Add, complete, and remove tasks. Stored locally.</div>
      
    </header>

    <section class="new-task" aria-label="Add new task">
      <input id="task-input" class="input" type="text" placeholder="What do you need to do? (Press Enter)" autocomplete="off" />
      <button id="add-btn" class="btn" aria-label="Add task">Add</button>
    </section>

    <div class="toolbar" aria-label="Task controls">
      <div class="filters" role="tablist" aria-label="Filters">
        <button class="chip" data-filter="all" data-active="true" role="tab" aria-selected="true">All</button>
        <button class="chip" data-filter="active" role="tab" aria-selected="false">Active</button>
        <button class="chip" data-filter="completed" role="tab" aria-selected="false">Completed</button>
      </div>
      <button id="clear-completed" class="linky" title="Remove all completed tasks">Clear completed</button>
    </div>

    <ul id="list" class="list" aria-live="polite"></ul>

    <div class="empty" id="empty-state" hidden>
      Nothing here yet. Add your first task above!
    </div>

    <div class="footer">
      <div class="counter"><strong id="left-count">0</strong> items left</div>
      <div class="muted">Data saved to <code>localStorage</code></div>
    </div>
  </main>

  <script>
    (function() {
      const STORAGE_KEY = 'todo.tasks.v1';

      /** @type {{id:string, title:string, completed:boolean, created:number}[]} */
      let tasks = [];
      let filter = 'all';

      // Elements
      const input = document.getElementById('task-input');
      const addBtn = document.getElementById('add-btn');
      const list = document.getElementById('list');
      const empty = document.getElementById('empty-state');
      const leftCount = document.getElementById('left-count');
      const clearCompletedBtn = document.getElementById('clear-completed');
      const filterChips = Array.from(document.querySelectorAll('.chip'));

      // Load & init
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        tasks = raw ? JSON.parse(raw) : [];
      } catch (e) { tasks = []; }
      render();

      // Handlers
      addBtn.addEventListener('click', onAdd);
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') onAdd();
      });

      list.addEventListener('click', (e) => {
        const target = e.target;
        const li = target.closest('li.task');
        if (!li) return;
        const id = li.dataset.id;

        if (target.matches('input[type="checkbox"]')) {
          toggleComplete(id, target.checked);
        } else if (target.matches('button.icon-btn.danger')) {
          removeTask(id);
        } else if (target.matches('button.icon-btn.edit')) {
          startEdit(li, id);
        }
      });

      list.addEventListener('keydown', (e) => {
        if (e.target.classList.contains('title') && e.key === 'Enter') {
          e.preventDefault();
          e.target.blur();
        }
      });

      list.addEventListener('focusout', (e) => {
        if (e.target.classList.contains('title')) {
          const li = e.target.closest('li.task');
          const id = li.dataset.id;
          const next = e.target.textContent.trim();
          renameTask(id, next);
        }
      });

      filterChips.forEach(chip => chip.addEventListener('click', () => {
        filter = chip.dataset.filter;
        filterChips.forEach(c => {
          c.dataset.active = (c === chip);
          c.setAttribute('aria-selected', c === chip ? 'true' : 'false');
        });
        render();
      }));

      clearCompletedBtn.addEventListener('click', () => {
        if (!tasks.some(t => t.completed)) return;
        tasks = tasks.filter(t => !t.completed);
        persist();
        render();
      });

      // Actions
      function onAdd() {
        const title = input.value.trim();
        if (!title) return;
        tasks.unshift({ id: crypto.randomUUID ? crypto.randomUUID() : String(Date.now()+Math.random()), title, completed: false, created: Date.now() });
        input.value = '';
        persist();
        render();
        input.focus();
      }

      function toggleComplete(id, checked) {
        const t = tasks.find(t => t.id === id);
        if (!t) return;
        t.completed = checked;
        persist();
        render();
      }

      function removeTask(id) {
        tasks = tasks.filter(t => t.id !== id);
        persist();
        render();
      }

      function startEdit(li, id) {
        const titleEl = li.querySelector('.title');
        titleEl.setAttribute('contenteditable', 'true');
        titleEl.focus();
        document.execCommand && document.execCommand('selectAll', false, null);
      }

      function renameTask(id, nextTitle) {
        const t = tasks.find(t => t.id === id);
        if (!t) return;
        t.title = nextTitle || t.title; // keep old title if blank
        persist();
        render();
      }

      // Render
      function render() {
        const filtered = tasks.filter(t => filter === 'all' ? true : filter === 'active' ? !t.completed : t.completed);

        list.innerHTML = '';
        if (filtered.length === 0) {
          empty.hidden = false;
        } else {
          empty.hidden = true;
          for (const t of filtered) {
            list.appendChild(row(t));
          }
        }

        const left = tasks.filter(t => !t.completed).length;
        leftCount.textContent = left;
      }

      function row(t) {
        const li = document.createElement('li');
        li.className = 'task';
        li.dataset.id = t.id;

        const cb = document.createElement('input');
        cb.type = 'checkbox';
        cb.className = 'checkbox';
        cb.checked = t.completed;
        cb.setAttribute('aria-label', 'Mark as completed');

        const title = document.createElement('div');
        title.className = 'title' + (t.completed ? ' completed' : '');
        title.textContent = t.title;

        const actions = document.createElement('div');
        actions.className = 'row-actions';
        const editBtn = document.createElement('button');
        editBtn.className = 'icon-btn edit';
        editBtn.title = 'Edit';
        editBtn.textContent = 'Edit';
        const delBtn = document.createElement('button');
        delBtn.className = 'icon-btn danger';
        delBtn.title = 'Delete';
        delBtn.textContent = 'Delete';
        actions.append(editBtn, delBtn);

        li.append(cb, title, actions);
        return li;
      }

      function persist() {
        try { localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks)); } catch (e) {}
      }
    })();
  </script>
</body>
</html>
